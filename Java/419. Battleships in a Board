class Solution {
    public int countBattleships(char[][] board) {
        //改良版本，只需要遍历一次，从左上到右下，只有当左边和上边都不是战船的时候，才计数战船，空间复杂度O(1)，时间复杂度O(n)  
	
    	int count = 0;
    	for( int i=0; i<board.length; i++ )
    	{
    		for( int j=0; j<board[0].length; j++ )
    		{
    			//判断依据：
    			//1、本身是X
    			//2、左和上是边界，或左和上都不是X
    			if( board[i][j]=='X' && ( i==0 || board[i-1][j]=='.' ) && ( j==0 || board[i][j-1]=='.' ) )
    			{
    				count++;
    			}
    		}
    	}
    	
    	return count;
    }
}
